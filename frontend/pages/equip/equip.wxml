<!--pages/equip/equip.wxml-->
<view>
  <view class="beauty">{{item_id==0?'添加预约设备':'修改预约设备'}}</view>
  <view class="tips" style="margin-buttom:50rpx">——请完整填写以下信息——</view>
  <form bindsubmit="addit">
    <view class="after-title">
      <view class="tipbox">
        <view class="labelbox">
          <image src="../../icon/equip.png" class="icon"></image>
          <text class="textbox">设备名称：</text>
        </view>
        <view>
          <input value="{{name}}" class="inputbox" placeholder="请填写设备名称" bindblur="inputname" />
        </view>
      </view>
      <view class="tipbox">
        <view class="labelbox">
          <image src="../../icon/method.png" class="icon"></image>
          <text class="textbox">预约方式：</text>
        </view>
        <checkbox-group bindchange="rsvmethod">
          <label class="option" wx:for="{{methods}}">
              <checkbox style="margin-left:20rpx;width:100%;height:100%;display:flex" value="{{item.value}}" checked="{{item.checked}}" disabled="{{!item.can}}">
            <view style="{{(!item.can)?'color:#999999':''}}">{{item.name}}</view>
            </checkbox>
          </label>
        </checkbox-group>
      </view>
    </view>
    <view class="tipbox">
      <view class="labelbox">
        <image src="../../icon/pic.png" class="icon"></image>
        <text class="textbox">设备图片：</text>
      </view>
      <view class="picbox">
        <image style="height:500rpx;width:500rpx" src="{{thumbnail}}" mode="widthFix" wx:if="{{havepic}}"></image>
      </view>
      <button class="normal" hover-class="normals" style="height:80rpx;margin-top:30rpx" bindtap="choosepic" data-way="album">从相册中选择</button>
      <button class="normal" hover-class="normals"  style="height:80rpx;margin-top:30rpx" bindtap="choosepic" data-way="camera">使用相机拍照</button>
    </view>
    <view class="tipbox">
      <view class="labelbox">
        <image src="../../icon/brief.png" class="icon"></image>
        <text class="textbox">简要介绍：</text>
      </view>
      <view>
        <textarea value="{{brief_intro}}" class="inputbox" style="height:120rpx" placeholder="请简述设备情况,不超过40个字符" bindblur="inputintro" />
      </view>
    </view>
    <view class="tipbox">
      <view class="labelbox">
        <image src="../../icon/md.png" class="icon"></image>
        <text class="textbox">详细介绍：</text>
      </view>
      <view>
        <textarea value="{{md_intro}}" class="inputbox" style="height:200rpx" placeholder="仅支持markdown格式"
          bindblur="inputmd" />
      </view>
    </view>
    <view class="tipbox" wx:if="{{item_id!==0}}">
      <view class="labelbox">
        <image src="../../icon/can.png" class="icon"></image>
        <text class="textbox">能否使用：</text>
        <switch style="margin-left:20%" checked="{{available}}" bindchange="inputcan"></switch>
      </view>
    </view>
    <view style="margin-bottom:100rpx">
      <button form-type="submit" type="primary" style="width:300rpx;height:80rpx;top:60rpx">提交</button>
    </view>
  </form>
</view>